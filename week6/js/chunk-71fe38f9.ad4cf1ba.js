(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71fe38f9"],{a55b:function(t,e,o){"use strict";o.r(e);var n=o("7a23"),r={class:"login"},s={class:"container mt-5"},c={class:"row justify-content-center"},a=Object(n["h"])("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),i={class:"col-8"},u={class:"form-floating mb-3"},l=Object(n["h"])("label",{for:"email"},"Email address",-1),d={class:"form-floating"},h=Object(n["h"])("label",{for:"password"},"Password",-1),b=Object(n["h"])("button",{class:"btn btn-lg btn-primary w-100 mt-3"},"登入",-1),f=Object(n["g"])("Home"),m=Object(n["g"])("直接登入"),p=Object(n["h"])("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 2021",-1);function j(t,e,o,j,O,w){var g=Object(n["y"])("router-link");return Object(n["q"])(),Object(n["d"])("div",r,[Object(n["h"])("div",s,[Object(n["h"])("div",c,[a,Object(n["h"])("div",i,[Object(n["h"])("form",{class:"form-signin",onSubmit:e[3]||(e[3]=Object(n["I"])((function(){return w.login&&w.login.apply(w,arguments)}),["prevent"]))},[Object(n["h"])("div",u,[Object(n["H"])(Object(n["h"])("input",{type:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return O.user.username=t}),placeholder:"name@example.com",id:"email",required:"",autofocus:""},null,512),[[n["D"],O.user.username]]),l]),Object(n["h"])("div",d,[Object(n["H"])(Object(n["h"])("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return O.user.password=t}),placeholder:"Password",required:""},null,512),[[n["D"],O.user.password]]),h]),b],32),Object(n["h"])("div",null,[Object(n["h"])(g,{to:"/"},{default:Object(n["G"])((function(){return[f]})),_:1}),Object(n["h"])("p",null,[O.isLogin?(Object(n["q"])(),Object(n["d"])(g,{key:0,to:"/dashboard/product"},{default:Object(n["G"])((function(){return[m]})),_:1})):Object(n["e"])("",!0)])])])]),p])])}var O=o("1da1"),w=o("5530"),g=(o("96cf"),o("d3b7"),o("25f0"),o("99af"),o("ac1f"),o("5319"),o("9de5")),v={data:function(){return{user:{username:"",password:""},isLogin:!1}},methods:{setUser:function(t){this.user=Object(w["a"])({},t),this.login()},login:function(){var t=this,e=Object(w["a"])({},this.user);g["b"].post(g["a"].signin,e).then((function(e){var o=e.data.success,n=void 0!==o&&o;n?(t.saveCookie(e.data),t.$router.push("/dashboard/product")):t.$swal({title:e.data.message,icon:"error",toast:!1,position:"center",showCloseButton:!0,showConfirmButton:!1})})).catch((function(e){t.$swal({title:e.toString(),icon:"error",toast:!1,position:"center",showCloseButton:!0,showConfirmButton:!1})}))},saveCookie:function(t){var e=t.token,o=t.expired;document.cookie="hexToken=".concat(e,"; expires=").concat(new Date(o))},checkUser:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLogin=!1,e.next=3,g["b"].post(g["a"].check).then((function(e){var o=e.data.success;o&&(t.isLogin=!0)})).catch((function(e){t.$swal({title:e.toString(),icon:"error",toast:!1,position:"center",showCloseButton:!0,showConfirmButton:!1})}));case 3:case"end":return e.stop()}}),e)})))()}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");g["b"].defaults.headers.common.Authorization=t,this.checkUser()}};o("d75d");v.render=j;e["default"]=v},d018:function(t,e,o){},d75d:function(t,e,o){"use strict";o("d018")}}]);
//# sourceMappingURL=chunk-71fe38f9.ad4cf1ba.js.map