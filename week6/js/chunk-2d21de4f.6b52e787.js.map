{"version":3,"sources":["webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?c8fc"],"names":["class","role","product","title","src","imageUrl","alt","price","description","type","disabled","isLoadingBtn","addToCart","id","data","components","Header","Breadcrumb","Footer","methods","getProdut","pid","this","hexAxios","get","sigle","then","res","success","message","qty","$swal","icon","toast","position","showCloseButton","showConfirmButton","catch","error","toString","product_id","post","cart","timer","$bus","$emit","finally","created","$route","params","render"],"mappings":"8JAEQA,MAAM,kB,GAEJA,MAAM,mB,GAIPA,MAAM,O,GACJA,MAAM,S,GAGNA,MAAM,S,GAKFA,MAAM,mCAAyDC,KAAK,U,EACvE,eAA+C,QAAzCD,MAAM,mBAAkB,cAAU,G,iBACpC,W,qKAlBd,eAAiB,GACjB,eAsBO,OAtBP,EAsBO,CArBL,eAIa,Q,wBAHX,iBAEK,CAFL,eAEK,KAFL,EAEK,eADA,EAAAE,QAAQC,OAAK,O,MAGpB,eAeM,MAfN,EAeM,CAdJ,eAEM,MAFN,EAEM,CADJ,eAAwD,OAAnDH,MAAM,YAAaI,IAAK,EAAAF,QAAQG,SAAUC,IAAI,I,kBAErD,eAUM,MAVN,EAUM,CATJ,eAA4B,yBAArB,EAAAJ,QAAQC,OAAK,GACpB,eAA8B,SAA3B,OAAI,eAAG,EAAAD,QAAQK,OAAK,GACvB,eAAgC,wBAA1B,EAAAL,QAAQM,aAAW,GACzB,eAKS,UALDC,KAAK,SAAST,MAAM,kBAAmBU,SAAU,EAAAC,aAAe,QAAK,+CAAU,EAAAC,UAAU,EAAAV,QAAQW,MAAE,e,gBACzG,eAEM,MAFN,EAEM,CADJ,G,cADoD,EAAAF,gB,yBAQ9D,eAAiB,I,0FASJ,GACbG,KADa,WAEX,MAAO,CACLH,cAAc,EACdT,QAAS,KAGba,WAAY,CACVC,SAAA,KACAC,aAAA,KACAC,SAAA,MAEFC,QAAS,CACPC,UADO,SACGC,GAAK,WACbC,KAAKpB,QAAU,GACfqB,EAAA,KACGC,IAAI,OAAQtB,QAAQuB,MAAMJ,IAC1BK,MAAK,SAACC,GACL,MAAsCA,EAAIb,KAAlCc,EAAR,EAAQA,QAAS1B,EAAjB,EAAiBA,QAAS2B,EAA1B,EAA0BA,QACtBD,EACF,EAAK1B,QAAL,iCACKA,GADL,IAEE4B,IAAK,IAGP,EAAKC,MAAM,CACT5B,MAAO0B,EACPG,KAAM,QACNC,OAAO,EACPC,SAAU,SACVC,iBAAiB,EACjBC,mBAAmB,OAIxBC,OAAM,SAACC,GACN,EAAKP,MAAM,CACT5B,MAAOmC,EAAMC,WACbP,KAAM,QACNC,OAAO,EACPC,SAAU,SACVC,iBAAiB,EACjBC,mBAAmB,QAI3BxB,UAlCO,SAkCGS,GAAc,WAATS,EAAS,uDAAH,EACnBR,KAAKX,cAAe,EACpB,IAAMG,EAAO,CACXA,KAAM,CACJ0B,WAAYnB,EACZS,QAGJP,EAAA,KACGkB,KAAK,OAAQC,KAAKtC,MAAOU,GACzBY,MAAK,SAACC,GACL,MAA6BA,EAAIb,KAAzBc,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QACbD,EACF,EAAKG,MAAM,CACT5B,MAAO0B,EACPG,KAAM,UACNI,mBAAmB,EACnBO,MAAO,MAGT,EAAKZ,MAAM,CACT5B,MAAO0B,EACPG,KAAM,QACNC,OAAO,EACPC,SAAU,SACVC,iBAAiB,EACjBC,mBAAmB,OAIxBV,KAAKJ,KAAKsB,KAAKC,MAAM,cACrBR,OAAM,SAACC,GACN,EAAKP,MAAM,CACT5B,MAAOmC,EAAMC,WACbP,KAAM,QACNC,OAAO,EACPC,SAAU,SACVC,iBAAiB,EACjBC,mBAAmB,OAGtBU,SAAQ,WACP,EAAKnC,cAAe,OAI5BoC,QA5Fa,WA6FX,IAAM1B,EAAMC,KAAK0B,OAAOC,OAAOpC,GAC/BS,KAAKF,UAAUC,KC7HnB,EAAO6B,OAASA,EAED","file":"js/chunk-2d21de4f.6b52e787.js","sourcesContent":["<template>\n  <Header></Header>\n  <main class=\"container my-3\">\n    <Breadcrumb>\n      <li class=\"breadcrumb-item\">\n        {{ product.title }}\n      </li>\n    </Breadcrumb>\n    <div class=\"row\">\n      <div class=\"col-7\">\n        <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\" />\n      </div>\n      <div class=\"col-5\">\n        <h2>{{ product.title }}</h2>\n        <p>NT: {{ product.price }}</p>\n        <p>{{ product.description }}</p>\n        <button type=\"button\" class=\"btn btn-primary\" :disabled=\"isLoadingBtn\" @click.prevent=\"addToCart(product.id)\">\n          <div class=\"spinner-border spinner-border-sm\" v-show=\"isLoadingBtn\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n          </div>\n          加入購物車\n        </button>\n      </div>\n    </div>\n  </main>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Header from '@/components/Header.vue';\nimport Breadcrumb from '@/components/Breadcrumb.vue';\nimport Footer from '@/components/Footer.vue';\nimport { hexAxios, userAPI } from '@/response/hexAxios';\n\nexport default {\n  data() {\n    return {\n      isLoadingBtn: false,\n      product: {},\n    };\n  },\n  components: {\n    Header,\n    Breadcrumb,\n    Footer,\n  },\n  methods: {\n    getProdut(pid) {\n      this.product = {};\n      hexAxios\n        .get(userAPI.product.sigle(pid))\n        .then((res) => {\n          const { success, product, message } = res.data;\n          if (success) {\n            this.product = {\n              ...product,\n              qty: 1,\n            };\n          } else {\n            this.$swal({\n              title: message,\n              icon: 'error',\n              toast: false,\n              position: 'center',\n              showCloseButton: true,\n              showConfirmButton: false,\n            });\n          }\n        })\n        .catch((error) => {\n          this.$swal({\n            title: error.toString(),\n            icon: 'error',\n            toast: false,\n            position: 'center',\n            showCloseButton: true,\n            showConfirmButton: false,\n          });\n        });\n    },\n    addToCart(pid, qty = 1) {\n      this.isLoadingBtn = true;\n      const data = {\n        data: {\n          product_id: pid,\n          qty,\n        },\n      };\n      hexAxios\n        .post(userAPI.cart.src(), data)\n        .then((res) => {\n          const { success, message } = res.data;\n          if (success) {\n            this.$swal({\n              title: message,\n              icon: 'success',\n              showConfirmButton: false,\n              timer: 1000,\n            });\n          } else {\n            this.$swal({\n              title: message,\n              icon: 'error',\n              toast: false,\n              position: 'center',\n              showCloseButton: true,\n              showConfirmButton: false,\n            });\n          }\n        })\n        .then(this.$bus.$emit('cartCount'))\n        .catch((error) => {\n          this.$swal({\n            title: error.toString(),\n            icon: 'error',\n            toast: false,\n            position: 'center',\n            showCloseButton: true,\n            showConfirmButton: false,\n          });\n        })\n        .finally(() => {\n          this.isLoadingBtn = false;\n        });\n    },\n  },\n  created() {\n    const pid = this.$route.params.id;\n    this.getProdut(pid);\n  },\n};\n</script>\n","import { render } from \"./Product.vue?vue&type=template&id=23e23cdc\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}